/*! mmui - v1.0.6 - 2014-02-13 */
define("lib/mmui/1.0.6/mmui_cmd",["./position","jquery","./overlay","./loading","./popup"],function(t,o){o.Position=t("./position"),o.Overlay=t("./overlay"),o.Loading=t("./loading"),o.Popup=t("./popup")}),define("lib/mmui/1.0.6/position",["jquery"],function(t){var o=t("jquery"),i={};return i.pin=function(t,i){var e,n,s=i.elem,r=s.offset(),p=i.pos;if(p.indexOf("top")>-1&&(e=r.top-t.outerHeight()),p.indexOf("bottom")>-1&&(e=r.top+s.outerHeight()),("bottom"===p||"top"===p)&&(n=r.left),p.indexOf("right")>-1&&(n=r.left+s.outerWidth()),p.indexOf("left")>-1&&(n=r.left-t.outerWidth()),("right"===p||"left"===p)&&(e=r.top),0>e&&(e=r.top+s.outerHeight()),e+t.outerHeight()>o(document).height()&&(e=r.top-t.outerHeight()),0>n&&(n=r.left+s.outerWidth()),n+t.outerWidth()>o(document).width()&&(n=r.left-t.outerWidth()),i.offset){var a=i.offset.split(" ");a[0].indexOf("%")>-1?e-=parseInt(a[0].slice(0,-1),10)/100*t.outerHeight()-s.outerHeight()/2:e+=parseInt(a[0],10),e=0>e?0:e,a.length>1&&(a[1].indexOf("%")>-1?n-=parseInt(a[1].slice(0,-1),10)/100*t.outerWidth()-s.outerWidth()/2:n+=parseInt(a[1],10),n=0>n?0:n)}t.css({top:e,left:n})},i.center=function(t,i){i=i||o(window);var e=parseInt((i.width()-t.outerWidth())/2,10),n=i.height()-t.outerHeight()-40;n=(0>n?0:parseInt(n/2,10))+o(document).scrollTop(),t.css({top:n,left:e})},i}),define("lib/mmui/1.0.6/overlay",["jquery"],function(t){var o=t("jquery"),i=!window.XMLHttpRequest,e=function(t){var i={zIndex:499,opacity:.4};this.options=o.extend(i,t),this.init()};return e.prototype={overlayer:null,masklayer:null,init:function(){this.overlayer=o('<div id="dm_window_overlay"></div>').appendTo("body").css({"z-index":this.options.zIndex,opacity:this.options.opacity}),i&&(this.masklayer=o('<iframe id="dm_window_selectmask" frameborder="0" />').appendTo("body").css("z-index",this.options.zIndex-1))},show:function(){this.overlayer.show(),this.masklayer&&this.masklayer.show()},hide:function(){this.overlayer.hide(),this.masklayer&&this.masklayer.hide()},destroy:function(){this.overlayer.remove(),this.masklayer&&this.masklayer.remove()}},e}),define("lib/mmui/1.0.6/loading",["jquery","./position","./overlay"],function(t,o,i){var e=t("jquery"),n=t("./position"),s=t("./overlay"),r=function(t,o){this.text=t;var i={zIndex:1e3,opacity:.4,indicator:null};this.options=e.extend(i,o),this.init()};r.prototype={constructor:r,overlay:null,indicator:null,init:function(){this.overlay=new s({zIndex:this.options.zIndex,opacity:this.options.opacity}),this.indicator=this.options.indicator||'<div class="mm-loading"><p>'+this.text+"</p></div>",this.indicator=e(this.indicator).appendTo("body").css("z-index",this.options.zIndex+1),null===this.options.indicator&&n.center(this.indicator)},hide:function(){this.overlay.destroy(),this.indicator.remove()}},i.exports=r}),define("lib/mmui/1.0.6/popup",["jquery","./position","./overlay"],function(t,o,i){var e=t("jquery"),n=t("./position"),s=t("./overlay"),r=function(t,o){this.options=o,this.$element=e(t)};r.prototype={constructor:r,overlay:null,init:function(){var t=this.options,o=this;t.modal&&(this.overlay=new s({zIndex:t.zIndex-1}));var i=e('<div class="mm-popup"></div>').appendTo("body").addClass(t.themeClass).css("z-index",t.zIndex);if(""!=t.title){var r=e('<div class="hd"><span class="title">'+t.title+"</span></div>").appendTo(i);t.closeIcon&&e('<span class="close" title="关闭">&times;</span>').appendTo(r).click(function(){"destroy"===t.closeMode?o.destroy():o.hide()})}if(this.$element.appendTo(i).addClass("bd"),t.buttons){var p=e('<div class="ft"></div>').appendTo(i);e.isArray(t.buttons)||(t.buttons=Array(t.buttons));for(var a=0;t.buttons.length>a;a++){var d=t.buttons[a];if(oBtns=e.extend({classname:"confirm",trigger:"click"},d),!d.hasOwnProperty("text"))for(var h in d)oBtns.text=h,oBtns.handler=d[h];"string"==typeof oBtns.handler&&"close"===oBtns.handler?e('<span class="button cancel-button">'+oBtns.text+"</span>").appendTo(p).click(function(){"destroy"===t.closeMode?o.destroy():o.hide()}):e('<span class="button '+oBtns.classname+'-button">'+oBtns.text+"</span>").appendTo(p).on(oBtns.trigger,oBtns.handler)}}t.width||(t.width=this.$element.outerWidth()),i.css("width",t.width),t.height||(t.height=this.$element.outerHeight()+(r?r.outerHeight():0)+(p?p.outerHeight():0)),this.options.pin?n.pin(i,this.options.pin):n.center(i),this.popuper=i},show:function(){this.popuper.show(),this.options.modal&&this.overlay.show(),this.popuper.show()},hide:function(){this.popuper.hide(),this.options.modal&&this.overlay.hide(),this.options.onHide&&this.options.onHide.call(this)},destroy:function(){this.options.beforeClose&&this.options.beforeClose(),this.popuper.remove(),this.options.modal&&this.overlay.destroy(),this.$element.removeData("popup"),this.options.onDestroy&&this.options.onDestroy.call(this)},rePosition:function(){n.center(this.popuper)}},e.fn.Popup=function(t){return this.each(function(){var o=e(this),i=o.data("popup"),n=e.extend({},e.fn.Popup.defaults,o.data(),"object"==typeof t&&t);i||o.data("popup",i=new r(this,n)),"string"==typeof t?i[t]():n.show&&i.init()})},e.fn.Popup.defaults={show:!0,modal:!1,themeClass:"mmpop-aero",position:null,posTarget:null,title:"",closeIcon:!0,zIndex:500,closeMode:"destroy"},i.exports=r});