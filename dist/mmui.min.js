/*! mmui - v1.0.6 - 2014-02-13 */
window.mmui={},+function(t){var o=!window.XMLHttpRequest,i=function(o){var i={zIndex:499,opacity:.4};this.options=t.extend(i,o),this.init()};i.prototype={overlayer:null,masklayer:null,init:function(){this.overlayer=t('<div id="dm_window_overlay"></div>').appendTo("body").css({"z-index":this.options.zIndex,opacity:this.options.opacity}),o&&(this.masklayer=t('<iframe id="dm_window_selectmask" frameborder="0" />').appendTo("body").css("z-index",this.options.zIndex-1))},show:function(){this.overlayer.show(),this.masklayer&&this.masklayer.show()},hide:function(){this.overlayer.hide(),this.masklayer&&this.masklayer.hide()},destroy:function(){this.overlayer.remove(),this.masklayer&&this.masklayer.remove()}},window.mmui.Overlay=i}(jQuery),+function(t){var o={};o.pin=function(o,i){var e,n,s=i.elem,r=s.offset(),a=i.pos;if(a.indexOf("top")>-1&&(e=r.top-o.outerHeight()),a.indexOf("bottom")>-1&&(e=r.top+s.outerHeight()),("bottom"===a||"top"===a)&&(n=r.left),a.indexOf("right")>-1&&(n=r.left+s.outerWidth()),a.indexOf("left")>-1&&(n=r.left-o.outerWidth()),("right"===a||"left"===a)&&(e=r.top),0>e&&(e=r.top+s.outerHeight()),e+o.outerHeight()>t(document).height()&&(e=r.top-o.outerHeight()),0>n&&(n=r.left+s.outerWidth()),n+o.outerWidth()>t(document).width()&&(n=r.left-o.outerWidth()),i.offset){var d=i.offset.split(" ");d[0].indexOf("%")>-1?e-=parseInt(d[0].slice(0,-1),10)/100*o.outerHeight()-s.outerHeight()/2:e+=parseInt(d[0],10),e=0>e?0:e,d.length>1&&(d[1].indexOf("%")>-1?n-=parseInt(d[1].slice(0,-1),10)/100*o.outerWidth()-s.outerWidth()/2:n+=parseInt(d[1],10),n=0>n?0:n)}o.css({top:e,left:n})},o.center=function(o,i){i=i||t(window);var e=parseInt((i.width()-o.outerWidth())/2,10),n=i.height()-o.outerHeight()-40;n=(0>n?0:parseInt(n/2,10))+t(document).scrollTop(),o.css({top:n,left:e})},window.mmui.Position=o}(jQuery),+function(t){var o=window.mmui.Position,i=window.mmui.Overlay,e=function(o,i){this.text=o;var e={zIndex:1e3,opacity:.4,indicator:null};this.options=t.extend(e,i),this.init()};e.prototype={constructor:e,overlay:null,indicator:null,init:function(){this.overlay=new i({zIndex:this.options.zIndex,opacity:this.options.opacity}),this.indicator=this.options.indicator||'<div class="mm-loading"><p>'+this.text+"</p></div>",this.indicator=t(this.indicator).appendTo("body").css("z-index",this.options.zIndex+1),null===this.options.indicator&&o.center(this.indicator)},hide:function(){this.overlay.destroy(),this.indicator.remove()}},window.mmui.Loading=e}(jQuery),+function(t){var o=window.mmui.Position,i=window.mmui.Overlay,e=function(o,i){this.options=i,this.$element=t(o)};e.prototype={constructor:e,overlay:null,init:function(){var e=this.options,n=this;e.modal&&(this.overlay=new i({zIndex:e.zIndex-1}));var s=t('<div class="mm-popup"></div>').appendTo("body").addClass(e.themeClass).css("z-index",e.zIndex);if(""!==e.title){var r=t('<div class="hd"><span class="title">'+e.title+"</span></div>").appendTo(s);e.closeIcon&&t('<span class="close" title="关闭">&times;</span>').appendTo(r).click(function(){"destroy"===e.closeMode?n.destroy():n.hide()})}if(this.$element.appendTo(s).addClass("bd"),e.buttons){var a=t('<div class="ft"></div>').appendTo(s);t.isArray(e.buttons)||(e.buttons=Array(e.buttons));for(var d=0;e.buttons.length>d;d++){var p=e.buttons[d];if(oBtns=t.extend({classname:"confirm",trigger:"click"},p),!p.hasOwnProperty("text"))for(var h in p)oBtns.text=h,oBtns.handler=p[h];"string"==typeof oBtns.handler&&"close"===oBtns.handler?t('<span class="button cancel-button">'+oBtns.text+"</span>").appendTo(a).click(function(){"destroy"===e.closeMode?n.destroy():n.hide()}):t('<span class="button '+oBtns.classname+'-button">'+oBtns.text+"</span>").appendTo(a).on(oBtns.trigger,oBtns.handler)}}e.width||(e.width=this.$element.outerWidth()),s.css("width",e.width),e.height||(e.height=this.$element.outerHeight()+(r?r.outerHeight():0)+(a?a.outerHeight():0)),this.options.pin?o.pin(s,this.options.pin):o.center(s),this.popuper=s},show:function(){this.popuper.show(),this.options.modal&&this.overlay.show(),this.popuper.show()},hide:function(){this.popuper.hide(),this.options.modal&&this.overlay.hide(),this.options.onHide&&this.options.onHide.call(this)},destroy:function(){this.options.beforeClose&&this.options.beforeClose(),this.popuper.remove(),this.options.modal&&this.overlay.destroy(),this.$element.removeData("popup"),this.options.onDestroy&&this.options.onDestroy.call(this)},rePosition:function(){o.center(this.popuper)}},t.fn.Popup=function(o){return this.each(function(){var i=t(this),n=i.data("popup"),s=t.extend({},t.fn.Popup.defaults,i.data(),"object"==typeof o&&o);n||i.data("popup",n=new e(this,s)),"string"==typeof o?n[o]():s.show&&n.init()})},t.fn.Popup.defaults={show:!0,modal:!1,themeClass:"mmpop-aero",position:null,posTarget:null,title:"",closeIcon:!0,zIndex:500,closeMode:"destroy"},window.mmui.Popup=e}(jQuery);